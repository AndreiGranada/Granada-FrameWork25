# ===== MedicalTime API - Exemplo de .env =====
# Renomeie este arquivo para `.env` e ajuste os valores de acordo com o seu ambiente.
# Nunca versione o arquivo `.env` real com segredos.

# Banco de dados MySQL
DATABASE_URL="mysql://user:password@localhost:3306/medicaltime"

# Servidor
PORT=3000
NODE_ENV=development
# Lista separada por vírgulas dos domínios permitidos (sem espaços)
# Exemplo: CORS_ORIGINS=http://localhost:5173,http://localhost:3000
CORS_ORIGINS=

# Autenticação
JWT_SECRET="altere-este-segredo"

# Rate Limiting
# Formatos aceitos (string): 15m, 1h, 60000 (ms)
RATE_LIMIT_AUTH_WINDOW=15m
RATE_LIMIT_AUTH_MAX=20
RATE_LIMIT_SOS_WINDOW=1h
RATE_LIMIT_SOS_MAX=5

# E-mail (dev/stub)
EMAIL_DEV_LOG=true
FRONTEND_URL=http://localhost:5173
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=

# Logger (opcional)
# LOG_LEVEL=info
# LOG_PRETTY=true

########################################
# Notificações (dev/whatsapp/fcm/expo) #
########################################
# Selecione o provedor de notificação:
#   - dev: logs no console (padrão)
#   - whatsapp: WhatsApp Cloud API (Meta)
#   - fcm: Firebase Cloud Messaging (push)
#   - expo: Expo Push (push)
NOTIFY_PROVIDER=dev

# Quando true, os provedores executam em "dry-run" (não enviam de verdade), apenas logam.
# Para enviar de fato, defina como false.
NOTIFY_DRY_RUN=true

# WhatsApp Cloud API (Meta)
# Para habilitar, ajuste:
#   NOTIFY_PROVIDER=whatsapp
#   NOTIFY_DRY_RUN=false
# Observações:
# - Os números de telefone devem estar no formato E.164 (ex.: +5511999999999)
# - Use um template aprovado (opcional) ou texto simples (default sem template)
WHATSAPP_TOKEN=
WHATSAPP_PHONE_ID=
WHATSAPP_API_URL=https://graph.facebook.com/v20.0
# Se definir um template, o envio usará o nome/idioma abaixo; caso contrário, envia texto simples.
WHATSAPP_TEMPLATE_NAME=
WHATSAPP_TEMPLATE_LANG=pt_BR
# Retentativas para erros transitórios (5xx/429)
WHATSAPP_RETRY_MAX=2
WHATSAPP_RETRY_BASE_MS=500

# FCM/Expo (push) - placeholders
FCM_SERVER_KEY=
EXPO_ACCESS_TOKEN=

# Alarmes (parametrização)
ALARM_RETRY_INTERVAL_MIN=15
ALARM_MAX_ATTEMPTS=3
ALARM_MARK_MISSED_AFTER_MIN=45
ALARM_SCAN_WINDOW_HOURS=6

# Observabilidade
# Requests podem enviar X-Correlation-Id; o servidor ecoa o header na resposta.
# Nenhuma configuração necessária aqui no momento.
